{"version":3,"sources":["webpack:///./src/components/FetchAdoptionsComponent.js","webpack:///./node_modules/unfetch/dist/unfetch.es.js","webpack:///./node_modules/isomorphic-unfetch/browser.js","webpack:///./src/hocs/fetchData.js"],"names":["mapStateToProps","adoptions","fetchAdoptions","dispatch","queryAdoptions","FetchAdoptionsComponent","fetchData","connect","renderImages","map","e","AnimalId","pic","props","Component","propTypes","PropTypes","array","state","isDataFetchEnabled","dataFetch","mapDispatchToProps","push","bindActionCreators","DataLoader","__SERVER__","fetch","bool","isRequired","func"],"mappings":"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","file":"2.js","sourcesContent":["import 'isomorphic-unfetch';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport fetchData from '../hocs/fetchData';\nimport { queryAdoptions } from 'reducers/adoptions';\n\nconst mapStateToProps = ({ adoptions }) => {\n  return { adoptions };\n};\n\nconst fetchAdoptions = ({ dispatch }) => {\n  return dispatch(queryAdoptions()) ;\n};\n\n@fetchData(fetchAdoptions)\n@connect(mapStateToProps)\nclass FetchAdoptionsComponent extends Component {\n  static propTypes = {\n    adoptions: PropTypes.array\n  };\n\n  renderImages = (adoptions) => {\n    return adoptions.map(e => {\n      return (\n        <div key={e.AnimalId} className=\"col-sm\">\n          <img src={`http://asms.coa.gov.tw/Amlapp/Upload/pic/${e.pic}`} alt={e.AnimalId}/>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const {adoptions} = this.props;\n    return (\n      <div className=\"row\">\n        {this.renderImages(adoptions)}\n      </div>\n    );\n  }\n}\n\nexport default FetchAdoptionsComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FetchAdoptionsComponent.js","var index = typeof fetch=='function' ? fetch.bind() : function(url, options) {\n\toptions = options || {};\n\treturn new Promise( function (resolve, reject) {\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\tfor (var i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\trequest.onload = function () {\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body || null);\n\n\t\tfunction response() {\n\t\t\tvar keys = [],\n\t\t\t\tall = [],\n\t\t\t\theaders = {},\n\t\t\t\theader;\n\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function (m, key, value) {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theader = headers[key];\n\t\t\t\theaders[key] = header ? (header + \",\" + value) : value;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\t\tstatus: request.status,\n\t\t\t\tstatusText: request.statusText,\n\t\t\t\turl: request.responseURL,\n\t\t\t\tclone: response,\n\t\t\t\ttext: function () { return Promise.resolve(request.responseText); },\n\t\t\t\tjson: function () { return Promise.resolve(request.responseText).then(JSON.parse); },\n\t\t\t\tblob: function () { return Promise.resolve(new Blob([request.response])); },\n\t\t\t\theaders: {\n\t\t\t\t\tkeys: function () { return keys; },\n\t\t\t\t\tentries: function () { return all; },\n\t\t\t\t\tget: function (n) { return headers[n.toLowerCase()]; },\n\t\t\t\t\thas: function (n) { return n.toLowerCase() in headers; }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default index;\n//# sourceMappingURL=unfetch.es.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/unfetch/dist/unfetch.es.js\n// module id = 116\n// module chunks = 2","module.exports = window.fetch || (window.fetch = require('unfetch').default || require('unfetch'));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isomorphic-unfetch/browser.js\n// module id = 117\n// module chunks = 2","/*global __SERVER__*/\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { push } from 'reducers/dataFetch';\n\nconst mapStateToProps = (state) => {\n  const isDataFetchEnabled = state.dataFetch.isDataFetchEnabled;\n  return { isDataFetchEnabled };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch,\n    push: bindActionCreators(push, dispatch)\n  };\n};\n\nconst fetchData = fetch => {\n  return WrappedComponent => {\n    class DataLoader extends Component {\n      static propTypes = {\n        isDataFetchEnabled: PropTypes.bool.isRequired,\n        dispatch: PropTypes.func.isRequired,\n        push: PropTypes.func.isRequired\n      };\n\n      constructor(props) {\n        super(props);\n        const {dispatch, isDataFetchEnabled, push} = props;\n\n        if (__SERVER__) {\n          push(fetch({ dispatch }));\n        } else if (isDataFetchEnabled){\n          fetch({ dispatch });\n        }\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n    return connect(mapStateToProps, mapDispatchToProps)(DataLoader);\n  };\n};\n\nexport default fetchData;\n\n\n\n// WEBPACK FOOTER //\n// ./src/hocs/fetchData.js"],"sourceRoot":""}